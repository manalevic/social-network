{"version":3,"sources":["components/Users/Users.module.css","components/Users/Paginator.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","portionCount","useState","currentPortionNumber","portionNumber","setPortionNumber","portionLeftPageNumber","portionRightPageNumber","onChangePortionNumber","setPortionNumberThunk","useEffect","className","s","pagination","onClick","filter","p","map","currentPage","selectedPage","undefined","e","onPageChanged","Users","wrapper","users","u","userWrapper","user","to","id","icoWrapper","ico","alt","src","photos","small","UserImage","info","desc","fullName","name","status","followed","disabled","followingUsers","some","button","unfollowThunk","followThunk","location","UsersContainer","pageNumber","onPageChangedThunk","this","getUsersThunk","portionSize","isLoading","React","Component","compose","connect","state","usersPage"],"mappings":"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","file":"static/js/4.2456185b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"icoWrapper\":\"Users_icoWrapper__20Gpo\",\"ico\":\"Users_ico__3j1hG\",\"wrapper\":\"Users_wrapper__-GeI2\",\"userWrapper\":\"Users_userWrapper__yl3ey\",\"user\":\"Users_user__1X3df\",\"info\":\"Users_info__1I9Tx\",\"desc\":\"Users_desc__3C-PX\",\"button\":\"Users_button__3XMrq\",\"fullName\":\"Users_fullName__A4x3V\",\"status\":\"Users_status__1QI66\",\"pagination\":\"Users_pagination__XIUjq\",\"selectedPage\":\"Users_selectedPage__2HNGd\",\"location\":\"Users_location__39ati\"};","import React, { useEffect } from \"react\"\r\nimport { useState } from \"react\"\r\nimport s from \"./Users.module.css\"\r\n\r\n\r\nconst Paginator = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionSize = 10\r\n\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(props.currentPortionNumber)\r\n    let portionLeftPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let portionRightPageNumber = portionNumber * portionSize\r\n\r\n  \r\n    const onChangePortionNumber = (currentPortionNumber) => {\r\n        props.setPortionNumberThunk(currentPortionNumber)\r\n    }   \r\n    useEffect(() => {\r\n        setPortionNumber(props.currentPortionNumber)\r\n    },[props.currentPortionNumber])\r\n    return (\r\n        <div className={s.pagination}>\r\n            {portionNumber > 1 && <button onClick={() => onChangePortionNumber(portionNumber - 1)}> Back </button>}\r\n\r\n            {pages.filter(p => p >= portionLeftPageNumber && p <= portionRightPageNumber)\r\n                .map(p => <div className={props.currentPage === p ? s.selectedPage : undefined} key={p} onClick={(e) => props.onPageChanged(p)} >{p}</div>)}\r\n\r\n            {portionNumber < portionCount && <button onClick={() => onChangePortionNumber(portionNumber + 1)}> Next </button>}\r\n\r\n        </div>\r\n    )\r\n    \r\n\r\n\r\n}\r\n\r\nexport default Paginator\r\n\r\n\r\n","import React from \"react\"\r\nimport s from \"./Users.module.css\"\r\nimport UserImage from './../../assets/img/user.jpg'\r\nimport { NavLink } from \"react-router-dom\"\r\nimport Paginator from \"./Paginator\"\r\n\r\nconst Users = (props) => {\r\n\r\n    return <div className={s.wrapper}>\r\n        <Paginator setPortionNumberThunk={props.setPortionNumberThunk} currentPage={props.currentPage}\r\n            onPageChanged={props.onPageChanged} totalUsersCount={props.totalUsersCount}\r\n            pageSize={props.pageSize} currentPortionNumber={props.currentPortionNumber} />\r\n        {/* {props.isLoading ? <Preloader /> : null} */}\r\n        {\r\n            props.users.map(u => <div key={u.id} className={s.userWrapper}>\r\n                <div className={s.user}>\r\n                    <NavLink to={`/profile/${u.id}`} className={s.icoWrapper}>\r\n                        <img className={s.ico} alt=\"\" src={u.photos.small != null ? u.photos.small : UserImage}></img>\r\n                    </NavLink>\r\n\r\n                    <div className={s.info}>\r\n                        <div className={s.desc}>\r\n                            <div className={s.fullName}>{u.name}</div>\r\n                            <div className={s.status}>{u.status}</div>\r\n                            {u.followed\r\n                                ? <button disabled={props.followingUsers.some(id => id === u.id)} className={s.button} onClick={() => {\r\n                                    props.unfollowThunk(u.id)\r\n                                }}>Unfollow</button>\r\n\r\n                                : <button disabled={props.followingUsers.some(id => id === u.id)} className={s.button} onClick={() => {\r\n                                    props.followThunk(u.id)\r\n                                }}>Follow</button>}\r\n                        </div>\r\n                        <div className={s.location}>\r\n                            {/* <div className={s.city}>{u.location.city}</div> */}\r\n                            {/* <div className={s.country}>{u.location.country}</div> */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>)\r\n        }\r\n\r\n    </div>\r\n}\r\n\r\nexport default Users\r\n\r\n\r\n","import { connect } from \"react-redux\";\r\nimport { getUsersThunk, onPageChangedThunk, followThunk, unfollowThunk, setPortionNumberThunk } from \"../../redux/users-reducer\";\r\nimport Users from './Users'\r\nimport React from \"react\"\r\nimport { compose } from \"redux\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsersThunk(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.onPageChangedThunk(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                followingUsers={this.props.followingUsers}\r\n                followThunk={this.props.followThunk}\r\n                unfollowThunk= {this.props.unfollowThunk}\r\n                portionSize= {this.props.portionSize}\r\n                isLoading= {this.props.isLoading}\r\n                setPortionNumberThunk= {this.props.setPortionNumberThunk}\r\n                currentPortionNumber={this.props.currentPortionNumber}\r\n            />\r\n\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isLoading: state.usersPage.isLoading,\r\n        followingUsers: state.usersPage.followingUsers,\r\n        currentPortionNumber: state.usersPage.currentPortionNumber\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getUsersThunk, onPageChangedThunk, followThunk, unfollowThunk, setPortionNumberThunk})\r\n)(UsersContainer)"],"sourceRoot":""}