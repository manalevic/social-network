{"version":3,"sources":["hoc/withAuthRedirect.js","api/api.js","redux/dialogs-reducer.js","components/Nav/Nav.module.css","components/Settings/Settings.module.css","redux/auth-reducer.js","components/Music/Music.jsx","components/Nav/Nav.jsx","components/News/News.jsx","redux/profile-reducer.js","components/Settings/Settings.jsx","assets/img/svg/like-ico.svg","assets/img/svg/like-ico-clicked.svg","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileData.jsx","components/Profile/ProfileInfo/ProfileInfoForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","App.js","redux/redux-store.js","index.js","components/Profile/MyPosts/Post/Post.module.css","validators/validators.js","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css","assets/img/user.jpg","redux/users-reducer.js","components/common/Preloader/Preloader.jsx","components/common/FormControls/FormControls.module.css","components/common/FormControls/FormControls.js","App.module.css","components/Login/Login.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","getAuthThunk","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","friend","get","then","response","data","deleteUsers","id","delete","postUsers","post","profileAPI","getProfile","userId","getStatus","updateStatus","status","put","savePhoto","photo","formData","FormData","append","saveProfile","profile","authAPI","getAuth","login","email","password","rememberMe","captcha","logout","getCaptchaUrl","ADD_MESSAGE","initialState","dialogsData","name","messagesData","message","addMessageThunk","newTextMessage","dispatch","addMessageActionCreator","type","dialogsReducer","action","newMessage","length","module","exports","SET_USER_DATA","DELETE_USER_DATA","GET_CAPTCHA_URL","captchaUrl","resultCode","setUserData","loginThunk","a","getCaptchaUrlThunk","messages","stopSubmit","_error","logoutThunk","deleteUserData","getCaptchaUrlAC","url","authReducer","Music","Nav","className","s","nav","list","item","link","activeClassName","active","News","ADD_POST","SET_USER_PROFILE","SET_STATUS","SET_PHOTO","LIKE","UNLIKE","TOGGLE_IS_LOADING","postsData","likesCount","isLoading","setProfileThunk","setUserProfile","setPhotoThunk","toggleIsLoading","setPhoto","photos","setStatus","addPost","newPostText","likeAC","unlikeAC","profileReducer","newPost","map","e","compose","profilePage","useState","chosenPhoto","choosePhoto","isPhoto","setIsPhoto","buttonClicked","setButtonClicked","settings","title","changePhoto","inputBlock","input","onChange","target","files","hidden","inputWrapper","htmlFor","fileInfo","choosegFileButton","button","onClick","disabled","Post","liked","setLiked","avatar","src","alt","UserImage","likes","unlikeThunk","likeThunk","likesImage","clickedLikeImage","LikeImage","likesMessage","maxLength50","maxLengthCreator","Textarea","Element","MyPostsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","textarea","placeholder","component","validate","required","MyPosts","postsElements","small","postsWrapper","posts","addPostContainer","addPostThunk","postElement","reset","ProfileStatus","editMode","setEditMode","useEffect","value","autoFocus","onBlur","updateStatusThunk","onDoubleClick","Contact","contact","contactTitle","href","contactValue","ProfileData","contacts","Object","keys","key","profileData","mainInfo","dataItem","aboutMe","lookingForAJob","lookingForAJobDescription","noContactInfo","formContact","ProfileInfoReduxForm","formInfo","formItem","formContacts","error","ProfileInfo","isFollowed","setIsFollowed","condition","users","u","match","params","Preloader","info","desc","img","isOwner","editButton","followButton","unfollowThunk","followThunk","name__wrapper","fullName","initialValues","saveProfileThunk","Profile","ProfileContainer","setStatusThunk","history","push","DoingProfileStuffFc","getUsersThunk","prevP","prevS","usersPage","getState","Promise","reject","withRouter","Header","loginMode","setLoginMode","header","content","logoBlock","logo","loginBlock","loginModeMenu","HeaderContainer","usersId","Input","LoginReduxForm","wrapper","style","errorMessage","INITIALIZE","initialized","initiaizeAC","appReducer","DialogsContainer","lazy","UsersContainer","FriendsContainer","App","initializeThunk","wrapper__main","Suspense","fallback","path","render","from","app","reducers","combineReducers","dialogsPage","usersReducer","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","maxLength","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET__FRIENDS_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FOLLOWING","SET_PORTION_NUMBER","SET_FRIENDS_PORTION_NUMBER","totalUsersCount","followingUsers","friendsCurrentPage","friendsCurrentPortionNumber","currentPortionNumber","setUsers","items","setTotalUsersCount","totalCount","onPageChangedThunk","pageNumber","setFriendsCurrentPage","setCurrentPage","toggleIsFollowing","follow","unFollow","unfollowFriendsThunk","setPortionNumberThunk","setPortionNumberAC","setFriendsPortionNumberThunk","setFriendsPortionNumberAC","followed","filter","meta","hasError","touched","styles","formControl"],"mappings":"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","file":"static/js/main.d5cf1ed4.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { getAuthThunk } from \"../redux/auth-reducer\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n\r\n        render() {\r\n            \r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n            return <Component {...this.props} />\r\n        }\r\n\r\n\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect, { getAuthThunk })(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","import axios from \"axios\";\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '96c1cbe8-ce69-487c-a58b-caa1f1a08239'\r\n    }\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize, friend = null) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}&friend=${friend}`)    \r\n        .then(response => {\r\n            return response.data\r\n\r\n            })\r\n           \r\n    },\r\n    deleteUsers(id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data)\r\n            \r\n    },\r\n    postUsers(id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n    // getFriends(currentPage, pageSize, friend = true) {\r\n    //     return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    //         .then(response => response.data)\r\n    // },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n            .then(response => response.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n            .then(response => response.data)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n            .then(response => response.data)\r\n    },\r\n    savePhoto(photo) {\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photo)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type':'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response => response.data)\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n            .then(response => response.data)\r\n    },\r\n \r\n}\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe,captcha})\r\n        .then(response => response.data)\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`)\r\n        .then(response => response.data)\r\n    },\r\n    getCaptchaUrl(){\r\n        return instance.get(`security/get-captcha-url`)\r\n        .then(response => response.data)\r\n    },\r\n}\r\n\r\n","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        {id: 1, name: 'Dima'},\r\n        {id: 2, name: 'Sasha'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Vasya'},\r\n        {id: 5, name: 'Kaban'}\r\n    ],\r\n    messagesData: [\r\n        {id: 1, message: \"The posts section is still in development\"},\r\n        {id: 2, message: \"there is no api support yet\"}\r\n    ]\r\n \r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMessage = {\r\n                id: state.messagesData.length + 1,\r\n                message: action.newTextMessage\r\n            }\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, newMessage]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const addMessageThunk = (newTextMessage) => (dispatch) => {\r\n    dispatch(addMessageActionCreator(newTextMessage))\r\n}\r\n\r\nexport const addMessageActionCreator = (newTextMessage) => ({ type: ADD_MESSAGE, newTextMessage})\r\n\r\n\r\n\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__6FaQn\",\"list\":\"Nav_list__9Y5W8\",\"item\":\"Nav_item__1RSFu\",\"link\":\"Nav_link__31ZTw\",\"active\":\"Nav_active__1j5ig\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__19RYd\",\"changePhoto\":\"Settings_changePhoto__1RgWc\",\"title\":\"Settings_title__2Y3AL\",\"inputBlock\":\"Settings_inputBlock__v_Zlb\",\"inputWrapper\":\"Settings_inputWrapper__1yClz\",\"fileInfo\":\"Settings_fileInfo__2PcFE\",\"choosegFileButton\":\"Settings_choosegFileButton__3cjy8\"};","import { stopSubmit } from \"redux-form\"\r\nimport { authAPI } from \"../api/api\"\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst DELETE_USER_DATA = \"DELETE_USER_DATA\"\r\nconst GET_CAPTCHA_URL = \"GET_CAPTCHA_URL\"\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: true\r\n            }\r\n        case DELETE_USER_DATA:\r\n            return {\r\n                ...state,\r\n                userId: null,\r\n                login: null,\r\n                email: null,\r\n                isAuth: false\r\n            }\r\n        case GET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const getAuthThunk = () => (dispatch) => {\r\n    return (\r\n        authAPI.getAuth().then(response => {\r\n\r\n            if (response.resultCode === 0) {\r\n                let { id, login, email } = response.data\r\n                dispatch(setUserData(id, login, email))\r\n            }\r\n        }))\r\n}\r\nexport const loginThunk = (login, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(login, password, rememberMe, captcha)\r\n    if (response.resultCode === 0) {\r\n        dispatch(getAuthThunk())\r\n    } else {\r\n        if (response.resultCode === 10) {\r\n            dispatch(getCaptchaUrlThunk())\r\n        }\r\n        let message = response.messages.length > 0 ? response.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", { _error: message }))\r\n    \r\n    }\r\n}\r\nexport const logoutThunk = () => (dispatch) => {\r\n    authAPI.logout().then(response => {\r\n        if (response.resultCode === 0) {\r\n            dispatch(deleteUserData())\r\n        }\r\n    })\r\n}\r\nexport const getCaptchaUrlThunk = () => async (dispatch) => {\r\n    let response = await authAPI.getCaptchaUrl()\r\n        dispatch(getCaptchaUrlAC(response.url))\r\n}\r\n\r\n\r\nexport const deleteUserData = () => ({\r\n    type: DELETE_USER_DATA\r\n})\r\n\r\nexport const setUserData = (userId, login, email) => ({\r\n    type: SET_USER_DATA, data: { userId, login, email }\r\n})\r\n\r\nexport const getCaptchaUrlAC = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL, captchaUrl\r\n})\r\n\r\n\r\n\r\nexport default authReducer\r\n\r\n","\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music","import { NavLink } from \"react-router-dom\"\r\nimport s from './Nav.module.css'\r\n\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <ul className={s.list}>\r\n                <li className={s.item}>\r\n                    <NavLink to='/profile' className={s.link} activeClassName={s.active}>Profile</NavLink>\r\n                </li>\r\n                <li className={s.item}>\r\n                    <NavLink to='/users'className={s.link} activeClassName={s.active}>Users</NavLink>\r\n                </li>\r\n                <li className={s.item}>\r\n                    <NavLink to='/friends' className={s.link} activeClassName={s.active}>Friends</NavLink>\r\n                </li>\r\n                <li className={s.item}>\r\n                    <NavLink to='/dialogs'className={s.link} activeClassName={s.active}>Messages</NavLink>\r\n                </li>\r\n                <li className={s.item}>\r\n                    <NavLink to='/settings' className={s.link} activeClassName={s.active}>Settings</NavLink>\r\n                </li>\r\n                \r\n            </ul>\r\n            \r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Nav","\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News","import { stopSubmit } from 'redux-form'\r\nimport { profileAPI } from '../api/api'\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst SET_PHOTO = 'SET_PHOTO'\r\nconst LIKE = 'LIKE'\r\nconst UNLIKE = 'UNLIKE'\r\nconst TOGGLE_IS_LOADING = 'TOGGLE_IS_LOADING'\r\n\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        { id: 1, message: \"The posts section is still in development\", likesCount: 12 },\r\n        { id: 2, message: \"there is no api support yet \", likesCount: 32 },\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n    isLoading: false\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: state.postsData.length + 1,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return { ...state, profile: action.profile }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case SET_PHOTO:\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photo }\r\n            }\r\n        case LIKE:\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.map(e => {\r\n                    if (e.id === action.id) {\r\n                        return { ...e, likesCount: e.likesCount + 1 }\r\n                    }\r\n                    return e\r\n                })\r\n            }\r\n        case UNLIKE:\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.map(e => {\r\n                    if (e.id === action.id) {\r\n                        return { ...e, likesCount: e.likesCount - 1 }\r\n                    }\r\n                    return e\r\n                })\r\n            }\r\n        case TOGGLE_IS_LOADING:\r\n            return { ...state, isLoading: action.isLoading }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setProfileThunk = (userId) => (dispatch) => {\r\n    profileAPI.getProfile(userId).then(response => {\r\n        dispatch(setUserProfile(response))\r\n    })\r\n}\r\nexport const setStatusThunk = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId).then(response => {\r\n        dispatch(setStatus(response))\r\n    })\r\n}\r\nexport const updateStatusThunk = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status).then(response => {\r\n        if (response.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n\r\n    })\r\n}\r\nexport const addPostThunk = newPostText => (dispatch) => {\r\n    dispatch(addPost(newPostText))\r\n}\r\nexport const setPhotoThunk = (photo) => (dispatch) => {\r\n    dispatch(toggleIsLoading(true))\r\n    profileAPI.savePhoto(photo).then(response => {\r\n        if (response.resultCode === 0) {\r\n            dispatch(setPhoto(response.data.photos))\r\n        }\r\n        dispatch(toggleIsLoading(false))\r\n    })\r\n}\r\nexport const saveProfileThunk = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    let response = await profileAPI.saveProfile(profile)\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(setProfileThunk(userId))\r\n    } else {\r\n        // let message = response.messages[0].split('>')\r\n        // message = message[1].split(')')\r\n        // message = message[0].toLowerCase()\r\n        // dispatch(stopSubmit(\"editProfile\", {\"contacts\": {\"facebook\": response.messages[0] } }))\r\n\r\n        dispatch(stopSubmit(\"editProfile\", { _error: response.messages[0] }))\r\n        return Promise.reject(response.messages[0])\r\n    }\r\n}\r\n\r\nexport const likeThunk = (id) => async (dispatch) => {\r\n    dispatch(likeAC(id))\r\n}\r\n\r\nexport const unlikeThunk = (id) => async (dispatch) => {\r\n    dispatch(unlikeAC(id))\r\n}\r\n\r\n\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setPhoto = (photo) => ({ type: SET_PHOTO, photo })\r\nexport const likeAC = (id) => ({ type: LIKE, id })\r\nexport const unlikeAC = (id) => ({ type: UNLIKE, id })\r\nexport const toggleIsLoading = (isLoading) => ({ type: TOGGLE_IS_LOADING, isLoading })\r\n\r\nexport default profileReducer","import { useState } from \"react\";\r\nimport { connect } from \"react-redux\"\r\nimport { compose } from \"redux\"\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\"\r\nimport { setPhotoThunk } from \"../../redux/profile-reducer\";\r\nimport s from './Settings.module.css'\r\n\r\n\r\nconst Settings = (props) => {\r\n\r\n    let [chosenPhoto, choosePhoto] = useState(null)\r\n    let [isPhoto, setIsPhoto] = useState(false)\r\n    let [buttonClicked, setButtonClicked] = useState(false)\r\n\r\n    let onChoosePhoto = (e) => {\r\n        if (e.target.files.length) {\r\n            setIsPhoto(true)\r\n            choosePhoto(e.target.files[0])\r\n        }\r\n        \r\n    }\r\n\r\n    let onSetPhoto = () => {\r\n        setButtonClicked(true)\r\n        props.setPhotoThunk(chosenPhoto)\r\n    }\r\n\r\n    return (\r\n        <div className={s.settings}>\r\n            <h1 className={s.title}>Settings</h1>\r\n            <div className={s.changePhoto}>\r\n                <h2 className={s.title}>1. Change your avatar</h2>\r\n                <div className={s.inputBlock}>\r\n                    <input className={s.input} type={'file'} id=\"changePhotoInput\"  onChange={onChoosePhoto} hidden />\r\n                    <label className={s.inputWrapper} htmlFor =\"changePhotoInput\">\r\n                        {isPhoto ? <div className={s.fileInfo}>{chosenPhoto.name}</div> : <div className={s.fileInfo}>No selected file</div>} \r\n                        <div className={s.choosegFileButton} >Choose file</div>\r\n                    </label>\r\n                    <button className={s.button} onClick={onSetPhoto} disabled={props.isLoading}>Change Photo</button>\r\n                    {!props.isLoading && buttonClicked && \"✅\"}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        isLoading: state.profilePage.isLoading\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { setPhotoThunk }),\r\n    withAuthRedirect)(Settings)","export default __webpack_public_path__ + \"static/media/like-ico.665ede1a.svg\";","export default __webpack_public_path__ + \"static/media/like-ico-clicked.4c4725c1.svg\";","import s from './Post.module.css'\r\nimport UserImage from '../../../../assets/img/user.jpg'\r\nimport LikeImage from \"../../../../assets/img/svg/like-ico.svg\"\r\nimport clickedLikeImage from \"../../../../assets/img/svg/like-ico-clicked.svg\"\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useState } from 'react'\r\n\r\n\r\nconst Post = (props) => {\r\n\r\n    let [liked, setLiked] = useState(false)\r\n\r\n\r\n\r\n    const onLike = () => {\r\n        if (liked) {\r\n            setLiked(false) \r\n            props.unlikeThunk(props.id) \r\n        } else if (!liked){\r\n            setLiked(true)  \r\n            props.likeThunk(props.id)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.post}>\r\n            <NavLink to='/profile'> \r\n                {props.avatar != null ? <img className={s.avatar} src={props.avatar} alt=\"\"></img> : <img src={`${UserImage}`} className={s.avatar} alt='smallImage' />}\r\n            </NavLink>\r\n            <span className={s.message}>{props.message}</span>\r\n            <div className={s.likes} onClick={onLike}>\r\n                {liked ? <img className={s.likesImage} src={`${clickedLikeImage}`} alt=\"\"></img> : <img className={s.likesImage} src={`${LikeImage}`} alt=\"\"></img>}\r\n                <div className={s.likesMessage}>{props.likesCount}</div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Post","import Post from \"./Post/Post\"\r\nimport s from './MyPosts.module.css'\r\nimport React from \"react\"\r\nimport { reduxForm, reset } from \"redux-form\"\r\nimport { Field } from \"redux-form\"\r\nimport { maxLengthCreator, required } from \"../../../validators/validators\"\r\nimport { Element } from \"../../common/FormControls/FormControls\"\r\nimport UserImage from '../../../assets/img/user.jpg'\r\n\r\nlet maxLength50 = maxLengthCreator(50)\r\n\r\nconst Textarea = Element(\"textarea\")\r\n\r\nconst MyPostsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field className={s.textarea} name={'postElement'} placeholder={\"Anything new?\"} component={Textarea} validate={[required, maxLength50]} ></Field>\r\n            <button >Add post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MyPostsReduxForm = reduxForm({ form: 'posts' })(MyPostsForm)\r\n\r\n\r\nconst MyPosts = (props) => {\r\n    \r\n    const onSubmit = (formData, dispatch) => {\r\n        props.addPostThunk(formData.postElement)\r\n        dispatch(reset(\"posts\"))\r\n    }\r\n\r\n    let postsElements = props.postsData.map((post) => \r\n    <Post avatar={props.profile !== null ? props.profile.photos.small : null} key={post.id} id={post.id} message={post.message} likesCount={post.likesCount} likeThunk={props.likeThunk} unlikeThunk={props.unlikeThunk}/>)\r\n    \r\n    return (\r\n        <div className={s.postsWrapper}>\r\n            <div className={s.posts}>\r\n                <div className={s.addPostContainer}>\r\n                    {props.profile !== null && props.profile.photos.small !== null ? <img className={s.avatar} src={props.profile.photos.small} alt=\"\"></img> : <img src={`${UserImage}`} className={s.avatar} alt='' />}\r\n                    <MyPostsReduxForm onSubmit={onSubmit} />\r\n                </div>\r\n                \r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default MyPosts\r\n\r\n\r\n\r\n\r\n\r\n        // <div className={s.posts}>\r\n        //     <h3> My Posts </h3>\r\n        //     <textarea ref={newPostElement} value={props.newPostText} onChange={onChangeNewPostText}></textarea>\r\n        //     <button onClick={onAddPost}>Add post</button>\r\n        //     {postsElements}\r\n        // </div>","import React from \"react\"\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\"\r\nimport s from './ProfileInfo.module.css'\r\n\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    const activateEditMod = () => {\r\n       setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMod = () => {\r\n        setEditMode(false)\r\n        props.updateStatusThunk(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.target.value)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n    \r\n        return (\r\n            <div className={s.status} >\r\n                {editMode ?\r\n                    <div>\r\n                        <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMod} value={status} ></input>\r\n                    </div>\r\n                    :\r\n                    <div>\r\n                        <span onDoubleClick={activateEditMod} >{props.status || 'set status'}</span>\r\n                    </div>}\r\n            </div>\r\n        )\r\n    \r\n}\r\n\r\nexport default ProfileStatus","import React from 'react'\r\nimport s from './ProfileInfo.module.css'\r\n\r\n\r\n\r\nconst ProfileData = (props) => {\r\n\r\n    let contacts = 0\r\n\r\n    Object.keys(props.profile.contacts).map(key => {\r\n        if (props.profile.contacts[key] !== null && props.profile.contacts[key] !== \"\") {\r\n            contacts += 1\r\n        }\r\n        return null\r\n    })\r\n\r\n\r\n    return (\r\n\r\n        <div className={s.profileData} >\r\n            <div className={s.mainInfo}>\r\n                <div className={s.dataItem}>\r\n                    <span>About Me:</span> <div>{props.profile.aboutMe}</div>\r\n                </div>\r\n                <div className={s.dataItem}>\r\n                    <span>Looking for a job:</span> <div>{props.profile.lookingForAJob ? \"yes\" : \"no\"}</div>\r\n                </div>\r\n                {props.profile.lookingForAJob &&\r\n                    <div className={s.dataItem}>\r\n                        <span>Looking for a job description:</span>  <div>{props.profile.lookingForAJobDescription}</div>\r\n                    </div>}\r\n            </div>\r\n\r\n            <div className={s.contacts}>\r\n\r\n                <div className={s.dataItem}>\r\n                    {contacts > 0 ?\r\n                        Object.keys(props.profile.contacts).map(key => {\r\n                                if (props.profile.contacts[key] !== null && props.profile.contacts[key] !== \"\") {\r\n                                    return <Contact contactTitle={key} key={key} contactValue={props.profile.contacts[key]} />\r\n                                }\r\n                                return null\r\n                            })\r\n                        : <span className={s.noContactInfo}>No contact information</span>\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Contact = (props) => {\r\n    return <div className={s.contact}><span>{props.contactTitle}:</span> <a href={props.contactValue}> {props.contactValue} </a></div>\r\n\r\n\r\n}\r\n\r\nexport default ProfileData\r\n\r\n","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport s from './ProfileInfo.module.css'\r\n\r\n\r\nconst ProfileInfoForm = (props) => {\r\n\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.form}>\r\n            <div className={s.formInfo}>\r\n                <div className={s.formItem}>\r\n                    <span>Full name:</span> <Field placeholder={'Full name'} name={'fullName'} component={'input'} />\r\n                </div>\r\n                <div className={s.formItem}>\r\n                    <span>About Me:</span> <Field placeholder={'About Me'} name={'aboutMe'} component={'input'} />\r\n                </div>\r\n                <div className={s.formItem}>\r\n                    <span>Looking for a job:</span> <Field type={\"checkbox\"} name={'lookingForAJob'} component={'input'} />\r\n                </div>\r\n                <div className={s.formItem}>\r\n                    <span>Looking for a job description:</span> <Field placeholder={'Looking for a job description'} name={'lookingForAJobDescription'} component={'textarea'} />\r\n                </div>\r\n            </div>\r\n            <div className={s.formContacts}>\r\n\r\n                {Object.keys(props.profile.contacts).map(key => {\r\n                    return <Contact contactTitle={key} key={key} contactValue={props.profile.contacts[key]} />\r\n                })}\r\n\r\n            </div>\r\n            {props.error && <div className={s.error}>{props.error}</div>}\r\n            <button >save</button>\r\n        </form>\r\n\r\n    )\r\n\r\n}\r\n\r\nconst Contact = (props) => {\r\n    return <div className={s.formContact}><span>{props.contactTitle}:</span> <Field placeholder={`Your ${props.contactTitle}`} name={`contacts.${props.contactTitle}`} component={'input'} /> </div>\r\n}\r\n\r\nconst ProfileInfoReduxForm = reduxForm({ form: 'editProfile' })(ProfileInfoForm)\r\n\r\nexport default ProfileInfoReduxForm","import React, { useEffect, useState } from 'react'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport s from './ProfileInfo.module.css'\r\nimport UserImage from '../../../assets/img/user.jpg'\r\nimport ProfileStatus from './ProfileStatus'\r\nimport ProfileData from './ProfileData'\r\nimport ProfileInfoReduxForm from './ProfileInfoForm'\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [isFollowed, setIsFollowed] = useState(false);\r\n    \r\n    let condition = false\r\n    \r\n    props.users.map(u => {\r\n        if (u.id === +props.match.params.userId) {\r\n            condition = true\r\n        }\r\n    })\r\n  \r\n    useEffect(() => {\r\n        setIsFollowed(condition)\r\n    },[condition])\r\n\r\n    const onEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        props.saveProfileThunk(formData).then(() => {\r\n            setEditMode(false)\r\n        })\r\n    }\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onFollow = () => {\r\n        props.followThunk(props.match.params.userId)\r\n        setIsFollowed(true)\r\n    }\r\n\r\n    const onUnfollow = () => {\r\n        props.unfollowThunk(props.match.params.userId)\r\n        setIsFollowed(false)\r\n    }\r\n    \r\n    return (\r\n\r\n        <div className={s.info}>\r\n\r\n            <div className={s.desc}>\r\n                <div className={s.avatar}>\r\n                    {props.profile.photos.small != null ? <img src={props.profile.photos.small} className={s.img} alt='smallImage'></img> : <img src={`${UserImage}`} className={s.img} alt='smallImage' />}\r\n                    {props.isOwner && <button className={s.editButton} onClick={onEditMode} disabled={editMode}>Edit profile</button>}\r\n                    {!props.isOwner &&  isFollowed && <button className={s.followButton} onClick={onUnfollow} >Unfollow</button>}\r\n\r\n                    \r\n                    {!props.isOwner &&  !isFollowed && <button className={s.followButton} onClick={onFollow} >Follow</button>}\r\n                </div>\r\n                <div className={s.info}>\r\n                    <div className={s.name__wrapper}>\r\n                        <div className={s.name}>{props.profile.fullName}</div>\r\n                        <ProfileStatus {...props} />\r\n                    </div>\r\n                    {editMode ? <ProfileInfoReduxForm initialValues={props.profile} onSubmit={onSubmit} {...props} /> : <ProfileData {...props} />}\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import MyPosts from './MyPosts/MyPosts'\r\nimport s from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\"\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={s.profile}>\r\n            <ProfileInfo {...props}/>\r\n            <MyPosts postsData = {props.postsData} addPostThunk={props.addPostThunk} profile={props.profile} likeThunk={props.likeThunk} unlikeThunk={props.unlikeThunk}/>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import { connect } from 'react-redux'\r\nimport { setProfileThunk, setStatusThunk, updateStatusThunk, setPhotoThunk, saveProfileThunk, addPostThunk, likeThunk, unlikeThunk} from \"../../redux/profile-reducer\";\r\nimport { followThunk, unfollowThunk,getUsersThunk } from \"../../redux/users-reducer\";\r\nimport React from 'react'\r\nimport Profile from './Profile'\r\nimport { withRouter } from 'react-router';\r\n\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    DoingProfileStuffFc() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.userId\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\")\r\n                return\r\n            }\r\n        }\r\n        this.props.setProfileThunk(userId)\r\n        this.props.setStatusThunk(userId)\r\n    \r\n    }\r\n\r\n    componentDidMount() {\r\n        this.DoingProfileStuffFc()\r\n        this.props.getUsersThunk(1, 100, true)\r\n    }\r\n    \r\n    componentDidUpdate(prevP, prevS) {\r\n        if (this.props.match.params.userId !== prevP.match.params.userId) {\r\n            this.DoingProfileStuffFc()\r\n        }\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props} isOwner={!this.props.match.params.userId} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        userId: state.auth.userId,\r\n        users: state.usersPage.users,\r\n        postsData: state.profilePage.postsData\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { setProfileThunk, setStatusThunk, updateStatusThunk, setPhotoThunk, saveProfileThunk, followThunk, unfollowThunk, addPostThunk, likeThunk, unlikeThunk, getUsersThunk}),\r\n    withRouter\r\n\r\n)(ProfileContainer)","import s from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useState } from 'react'\r\n\r\nconst Header = (props) => {\r\n\r\n    let [loginMode, setLoginMode] = useState(false)\r\n\r\n\r\n\r\n    let onLogin = () => {\r\n        if (loginMode) {\r\n            setLoginMode(false)\r\n        } else {\r\n            setLoginMode(true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.content}>\r\n                <NavLink to={'/profile'} className={s.logoBlock}>\r\n                    <img className={s.logo} src='http://cdn.onlinewebfonts.com/svg/img_176857.png' alt=\"\" />\r\n                    <span>panda</span>\r\n                </NavLink>\r\n                <div className={s.loginBlock}>\r\n                    {props.isAuth\r\n                        ? <div> <span onClick={onLogin} >{props.login}</span>  {loginMode && <div> <div className={s.loginModeMenu} onClick={props.logoutThunk}>Logout</div> </div>} </div>\r\n                        : <NavLink to={'/login'}>Sign in</NavLink>}\r\n\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Header from './Header'\r\nimport { logoutThunk} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    \r\n    render() {\r\n    return (\r\n        <Header {...this.props}/>\r\n    )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        userId: state.auth.usersId,\r\n        login: state.auth.login,\r\n        email: state.auth.email,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {logoutThunk}) (HeaderContainer)","import { loginThunk } from \"../../redux/auth-reducer\";\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport s from './Login.module.css'\r\nimport { connect } from \"react-redux\";\r\nimport { Element } from \"../common/FormControls/FormControls\";\r\nimport { required } from \"../../validators/validators\";\r\nimport { Redirect } from \"react-router\";\r\nimport style from './../common/FormControls/FormControls.module.css'\r\n\r\n\r\nconst Input = Element(\"input\")\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.wrapper}>\r\n            <Field placeholder={'Email'} name={\"email\"} component={Input} validate={[required]}></Field>\r\n            <Field placeholder={'Password'} name={\"password\"} component={Input} validate={[required]} type=\"password\"></Field>\r\n            <div className={s.rememberMe}>\r\n                <Field name={\"rememberMe\"} component={\"input\"} type={\"checkbox\"} ></Field> remember me\r\n            </div>\r\n            <div className={style.errorMessage}>{props.error}</div>\r\n            {props.captchaUrl && <img src={props.captchaUrl} alt=\"\"></img>}\r\n            {props.captchaUrl && <Field placeholder={'Captcha'} name={\"captcha\"} component={Input} validate={[required]}></Field>}\r\n            <button >Sign in</button>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.loginThunk(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return (\r\n            <Redirect to={`/profile/`} />\r\n        )\r\n    } else {\r\n        return (<div className={s.login}>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit} />\r\n        </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginThunk })(Login)","import { getAuthThunk } from \"./auth-reducer\"\r\n\r\nconst INITIALIZE = 'INITIALIZE'\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZE:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const initializeThunk = () => (dispatch) => {\r\n    let promise = dispatch(getAuthThunk())\r\n    promise.then(() => {\r\n        dispatch(initiaizeAC())\r\n    })\r\n}\r\n\r\nexport const initiaizeAC = () => ({type: INITIALIZE})\r\n\r\n\r\nexport default appReducer","import { Redirect, Route, Switch, withRouter } from 'react-router';\nimport s from './App.module.css';\nimport Music from './components/Music/Music';\nimport Nav from './components/Nav/Nav';\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport React from 'react';\nimport { initializeThunk } from './redux/app-reducer';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport Preloader from './components/common/Preloader/Preloader';\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"))\nconst FriendsContainer = React.lazy(() => import(\"./components/Friends/FriendsContainer\"))\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeThunk()\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    } else {\n      return (\n        <div className={s.wrapper}>\n            <HeaderContainer />\n\n          <div className={s.wrapper__main}>\n            <Nav />\n            <div className={s.content}>\n              <React.Suspense fallback={<Preloader />}>\n                <Switch>\n                  <Route path='/dialogs' render={() => <DialogsContainer />} />\n                  <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\n                  <Route path='/news' render={News} />\n                  <Route path='/music' render={Music} />\n                  <Route path='/friends' render={() => <FriendsContainer />} />\n                  <Route path='/settings' render={() => <Settings />} />\n                  <Route path='/users' render={() => <UsersContainer />} />\n                  <Route path='/login' render={() => <Login />} />\n                  <Redirect from='/' to='/profile' />\n                </Switch>\n              </React.Suspense>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n\n\n}\n\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose(withRouter, connect(mapStateToProps, { initializeThunk }))(App)","import { applyMiddleware, combineReducers, createStore } from \"redux\"\r\nimport authReducer from \"./auth-reducer\"\r\nimport dialogsReducer from \"./dialogs-reducer\"\r\nimport profileReducer from \"./profile-reducer\"\r\nimport usersReducer from \"./users-reducer\"\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\"\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n    \r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\n\r\n\r\n\r\nexport default store","import App from './App';\nimport store from './redux/redux-store'\nimport ReactDOM from 'react-dom'\nimport React from 'react'\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__6IuCe\",\"avatar\":\"Post_avatar__27yPM\",\"message\":\"Post_message__lfLqA\",\"likes\":\"Post_likes__37lxl\",\"likesImage\":\"Post_likesImage__2NljR\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n   \r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsWrapper\":\"MyPosts_postsWrapper__G0mtX\",\"posts\":\"MyPosts_posts__2QxPd\",\"addPostContainer\":\"MyPosts_addPostContainer__2Dn_O\",\"avatar\":\"MyPosts_avatar__3hBUQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__sCfzG\",\"content\":\"Header_content__1CtLy\",\"logoBlock\":\"Header_logoBlock__1evdE\",\"logo\":\"Header_logo__3iC9z\",\"loginBlock\":\"Header_loginBlock__yGhsJ\",\"loginModeMenu\":\"Header_loginModeMenu__20xoP\"};","export default __webpack_public_path__ + \"static/media/user.f8ec10c3.jpg\";","import { usersAPI } from \"../api/api\"\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET__FRIENDS_CURRENT_PAGE = 'SET__FRIENDS_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_LOADING = 'TOGGLE_IS_LOADING'\r\nconst TOGGLE_IS_FOLLOWING = 'TOGGLE_IS_FOLLOWING'\r\nconst SET_PORTION_NUMBER = 'SET_PORTION_NUMBER'\r\nconst SET_FRIENDS_PORTION_NUMBER = 'SET_FRIENDS_PORTION_NUMBER'\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 8,\r\n    totalUsersCount: 200,\r\n    currentPage: 1,\r\n    isLoading: false,\r\n    followingUsers: [],\r\n    friendsCurrentPage: 1,\r\n    friendsCurrentPortionNumber: 1,\r\n    currentPortionNumber: 1\r\n\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return { ...state, users: action.users }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage }\r\n\r\n        case SET__FRIENDS_CURRENT_PAGE:\r\n            return { ...state, friendsCurrentPage: action.currentPage }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return { ...state, totalUsersCount: action.totalUsersCount }\r\n\r\n        case TOGGLE_IS_LOADING:\r\n            return { ...state, isLoading: action.isLoading }\r\n\r\n        case TOGGLE_IS_FOLLOWING:\r\n            return {\r\n                ...state, followingUsers: action.isLoading\r\n                    ? [...state.followingUsers, action.userId]\r\n                    : [state.followingUsers.filter(u => u !== action.userId)]\r\n            }\r\n        case SET_PORTION_NUMBER: \r\n            return {...state, currentPortionNumber: action.currentPortionNumber}\r\n        case SET_FRIENDS_PORTION_NUMBER: \r\n            return {...state, friendsCurrentPortionNumber: action.currentPortionNumber}\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const getUsersThunk = (currentPage, pageSize, friend) => async (dispatch) => {\r\n    dispatch(toggleIsLoading(true))\r\n    let response = await usersAPI.getUsers(currentPage, pageSize, friend)\r\n    dispatch(toggleIsLoading(false))\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalUsersCount(response.totalCount))\r\n}\r\n\r\nexport const onPageChangedThunk = (pageNumber, pageSize, friend = false) => async (dispatch) => {\r\n    dispatch(toggleIsLoading(true))\r\n    if (friend) {\r\n        dispatch(setFriendsCurrentPage(pageNumber))\r\n    } else {\r\n        dispatch(setCurrentPage(pageNumber))\r\n    }\r\n\r\n    let response = await usersAPI.getUsers(pageNumber, pageSize, friend)\r\n    dispatch(toggleIsLoading(false))\r\n    dispatch(setUsers(response.items))\r\n}\r\n\r\nexport const followThunk = (userId) => async (dispatch) => {\r\n    dispatch(toggleIsFollowing(true, userId))\r\n    let response = await usersAPI.postUsers(userId)\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(follow(userId))\r\n    }\r\n    dispatch(toggleIsFollowing(false, userId))\r\n}\r\n\r\nexport const unfollowThunk = (userId) => async (dispatch) => {\r\n    dispatch(toggleIsFollowing(true, userId))\r\n    let response = await usersAPI.deleteUsers(userId)\r\n    if (response.resultCode === 0) {\r\n        dispatch(unFollow(userId))\r\n    }\r\n    dispatch(toggleIsFollowing(false, userId))\r\n}\r\n\r\nexport const unfollowFriendsThunk = (userId, currentPage, pageSize, friend) => async (dispatch) => {\r\n    dispatch(toggleIsFollowing(true, userId))\r\n    let response = await usersAPI.deleteUsers(userId)\r\n    if (response.resultCode === 0) {\r\n        dispatch(unFollow(userId))\r\n        let response = await usersAPI.getUsers(currentPage, pageSize, friend)\r\n        dispatch(setUsers(response.items))\r\n        dispatch(setTotalUsersCount(response.totalCount))\r\n    }\r\n    dispatch(toggleIsFollowing(false, userId))\r\n}\r\n\r\nexport const setPortionNumberThunk = (currentPortionNumber) => async (dispatch) => {\r\n    dispatch(setPortionNumberAC(currentPortionNumber))\r\n}\r\n\r\nexport const setFriendsPortionNumberThunk = (currentPortionNumber) => async (dispatch) => {\r\n    dispatch(setFriendsPortionNumberAC(currentPortionNumber))\r\n}\r\n\r\n\r\n\r\nexport const follow = (userId) => ({\r\n    type: FOLLOW, userId\r\n})\r\n\r\nexport const unFollow = (userId) => ({\r\n    type: UNFOLLOW, userId\r\n})\r\n\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS, users\r\n})\r\n\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SET_CURRENT_PAGE, currentPage\r\n})\r\n\r\nexport const setFriendsCurrentPage = (currentPage) => ({\r\n    type: SET__FRIENDS_CURRENT_PAGE, currentPage\r\n})\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n    type: SET_TOTAL_USERS_COUNT, totalUsersCount\r\n})\r\n\r\nexport const toggleIsLoading = (isLoading) => ({\r\n    type: TOGGLE_IS_LOADING, isLoading\r\n})\r\n\r\nexport const toggleIsFollowing = (isLoading, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING, isLoading, userId\r\n})\r\n\r\nexport const setPortionNumberAC = (currentPortionNumber) => ({\r\n    type: SET_PORTION_NUMBER, currentPortionNumber\r\n})\r\n\r\nexport const setFriendsPortionNumberAC = (currentPortionNumber) => ({\r\n    type: SET_FRIENDS_PORTION_NUMBER, currentPortionNumber\r\n})\r\n\r\n\r\n\r\nexport default usersReducer","import React from \"react\"\r\n\r\nconst Preloader = () => {\r\n    return <div> Loading </div>\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3Aa8D\",\"error\":\"FormControls_error__3BHH1\",\"errorMessage\":\"FormControls_errorMessage__3Mnx4\"};","import styles from './FormControls.module.css'\r\n\r\nexport const Element = Element => ({input,meta,...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                <Element {...input} {...props} /> \r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chromeframe\":\"App_chromeframe__3P-CU\",\"wrapper\":\"App_wrapper__11tqO\",\"wrapper__main\":\"App_wrapper__main__3LFh2\",\"content\":\"App_content__13BX_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__1se9A\",\"rememberMe\":\"Login_rememberMe__1UiB3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"ProfileInfo_info__1NYw7\",\"bigImg\":\"ProfileInfo_bigImg__2kTqb\",\"avatar\":\"ProfileInfo_avatar__3iYmh\",\"img\":\"ProfileInfo_img__fObrF\",\"editButton\":\"ProfileInfo_editButton__1reti\",\"followButton\":\"ProfileInfo_followButton__KXuBQ\",\"name__wrapper\":\"ProfileInfo_name__wrapper__3kQyF\",\"status\":\"ProfileInfo_status__1CfA8\",\"mainInfo\":\"ProfileInfo_mainInfo__34rVw\",\"contacts\":\"ProfileInfo_contacts__MFjiI\",\"name\":\"ProfileInfo_name__24Bt0\",\"desc\":\"ProfileInfo_desc__5_1JT\",\"dataItem\":\"ProfileInfo_dataItem__lOJMz\",\"contact\":\"ProfileInfo_contact__dkfjH\",\"form\":\"ProfileInfo_form__3Lxgw\",\"formInfo\":\"ProfileInfo_formInfo__3FLUA\",\"formItem\":\"ProfileInfo_formItem__3zNj2\",\"formContacts\":\"ProfileInfo_formContacts__3UvUw\",\"formContact\":\"ProfileInfo_formContact__O-A_Q\",\"error\":\"ProfileInfo_error__3V0QC\",\"noContactInfo\":\"ProfileInfo_noContactInfo__1T2e4\"};"],"sourceRoot":""}